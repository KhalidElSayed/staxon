<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 plus MathML 2.0//EN"
	"http://www.w3.org/TR/2001/REC-MathML2-20010221/dtd/xhtml-math11-f.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<!-- Processed by MultiMarkdown -->
		<meta name="Format" content="Complete" />
	</head>
<body>

<h1 id="staxon-jsonviastax">StAXON - JSON via StAX</h1>

<p><a href="http://beckchr.github.com/staxon/">StAXON</a> lets you read and write JSON using the Java Streaming API for XML.</p>

<h2 id="mainfeatures">Main Features</h2>

<ul>
<li>Supports <a href="http://jackson.codehaus.org/">Jackson</a> and <a href="http://code.google.com/p/google-gson/">Gson</a> as JSON backends</li>
<li>Full XML namespace support</li>
<li>Start JSON arrays via XML processing instruction</li>
<li>Memory efficient, even for very large documents</li>
<li>It&#8217;s pretty fastâ€¦</li>
</ul>

<p>StAXON provides implementations of <code>javax.xml.stream.XMLStreamReader</code> and  <code>javax.xml.stream.XMLStreamWriter</code>.</p>

<p>The XML-to-JSON [Mapping Convention](https://github.com/beckchr/staxon/wiki/Mapping Convention) used by StAXON is
similar to the <a href="http://www.sklar.com/badgerfish/">Badgerfish</a> convention but attempts to avoid needless text-only
JSON objects to generate a more compact JSON.</p>

<h2 id="basicusage">Basic Usage</h2>

<p>If you know StAX, you&#8217;ll notice that there&#8217;s little new: just obtain an <code>XMLStreamReader</code> or <code>XMLStreamWriter</code>
from StAXON and you&#8217;re ready to go.</p>

<h3 id="writingjson">Writing JSON</h3>

<p>Create a JSON-based writer:</p>

<pre><code>XMLStreamWriter writer = new JsonXMLOutputFactory().createXMLStreamWriter(System.out);</code></pre>

<p>Write your document:</p>

<pre><code>writer.writeStartDocument();
writer.writeStartElement("alice");
writer.writeCharacters("charlie");
writer.writeEndElement();
writer.writeEndDocument();
writer.close();</code></pre>

<p>With an XML-based writer, this would have produced something like</p>

<pre><code>&lt;?xml version="1.0" ?&gt;
&lt;alice&gt;charlie&lt;/alice&gt;</code></pre>

<p>However, with our JSON-based writer, the output is</p>

<pre><code>{"alice":"charlie"}</code></pre>

<h3 id="readingjson">Reading JSON</h3>

<p>Create a JSON-based reader:</p>

<pre><code>StringReader json = new StringReader("{\"alice\":\"charlie\"}");
XMLStreamReader reader = new JsonXMLInputFactory().createXMLStreamReader(json);</code></pre>

<p>Read your document:</p>

<pre><code>assert reader.getEventType() == XMLStreamConstants.START_DOCUMENT;
reader.nextTag(); 
assert reader.isStartElement() &amp;&amp; "alice".equals(reader.getLocalName());
reader.next();
assert reader.hasText() &amp;&amp; "charlie".equals(reader.getText());
reader.nextTag();
assert reader.isEndElement();
reader.next();
assert reader.getEventType() == XMLStreamConstants.END_DOCUMENT;
reader.close();</code></pre>

<h2 id="documentation">Documentation</h2>

<p><a href="https://github.com/beckchr/staxon/wiki/">StAXON Wiki</a></p>

<h2 id="download">Download</h2>

<p>You can get StAXON artifacts from our <a href="http://beckchr.github.com/staxon/maven/">maven repositories</a> at github: </p>

<pre><code>&lt;repositories&gt;
    &lt;repository&gt;
        &lt;id&gt;staxon&lt;/id&gt;
        &lt;url&gt;http://beckchr.github.com/staxon/maven/releases&lt;/url&gt;
    &lt;/repository&gt;
&lt;/repositories&gt;

&lt;dependencies&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;de.odysseus.staxon&lt;/groupId&gt;
        &lt;artifactId&gt;staxon&lt;/artifactId&gt;
        &lt;version&gt;0.4.0&lt;/version&gt;
    &lt;/dependency&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;
        &lt;artifactId&gt;jackson-core-asl&lt;/artifactId&gt;
        &lt;version&gt;1.8.4&lt;/version&gt;
    &lt;/dependency&gt;
&lt;/dependencies&gt;</code></pre>

<p>Manually download the latest release: StAXON 0.4.0 (2011/08/10):</p>

<ul>
<li><a href="http://beckchr.github.com/staxon/maven/releases/de/odysseus/staxon/staxon/0.4.0/staxon-0.4.0.jar">staxon-0.4.0.jar</a></li>
<li><a href="http://beckchr.github.com/staxon/maven/releases/de/odysseus/staxon/staxon/0.4.0/staxon-0.4.0-sources.jar">staxon-0.4.0-sources.jar</a></li>
</ul>

<p>Make sure you have the <code>jackson-core</code> (and/or <code>gson</code>) jars on your classpath (<a href="http://wiki.fasterxml.com/JacksonDownload">jackson download</a>).</p>

<h2 id="development">Development</h2>

<p><a href="http://github.com/beckchr/staxon/">Github project</a></p>

<h2 id="license">License</h2>

<p>StAXON is available under the <a href="http://www.apache.org/licenses/LICENSE-2.0.html">Apache License, Version 2.0</a>.</p>

<p><em>(c) 2011 Odysseus Software</em></p>
</body>
</html>